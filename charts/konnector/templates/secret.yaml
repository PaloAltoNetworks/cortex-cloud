apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.system.secrets.backendAuth.name }}
  namespace: {{ .Values.namespace.name }}
  labels:
    {{- include "common.labels" . | nindent 4 }}
type: Opaque
stringData:
  token: "--set-by-konnnector-at-runtime--"
  refreshToken: "--set-by-konnnector-at-runtime--"
  sosToken: "--set-by-konnnector-at-runtime--"
  chapi: "--set-by-konnnector-at-runtime--"
---
{{- if .Values.deleteJob.secret.create }}
apiVersion: v1
kind: Secret
type: kubernetes.io/dockerconfigjson
metadata:
  name: {{ .Values.deleteJob.secret.name }}
  namespace: {{ .Values.namespace.name }}
  labels:
    {{- include "common.labels" . | nindent 4 }}
data:
  .dockerconfigjson: {{ .Values.deleteJob.secret.dockerPullSecret | default ( "{}" | b64enc ) }}
{{- end }}
---
{{- if .Values.createPullSecret }}
apiVersion: v1
kind: Secret
type: kubernetes.io/dockerconfigjson
metadata:
  name: {{ .Values.system.secrets.dockerSecret.name }}
  namespace: {{ .Values.namespace.name }}
  labels:
    {{- include "common.labels" . | nindent 4 }}
data:
  .dockerconfigjson: {{ .Values.dockerPullSecret | default ( "{}" | b64enc ) }}
{{- end }}
---
{{- if .Values.distribution.createSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: distribution-id
  namespace: {{ .Values.namespace.name }}
  labels:
    {{- include "common.labels" . | nindent 4 }}
type: Opaque
stringData:
  distribution-id: {{ .Values.distribution.id | required "The distribution.id value is required!" | quote }}
{{- end }}
---
apiVersion: v1
kind: Secret
metadata:
  name: konnector-proxy
  namespace: {{ .Values.namespace.name }}
  labels:
    {{- include "common.labels" . | nindent 4 }}
type: Opaque
stringData:
  httpProxy: {{ .Values.proxyValues.httpProxy | default "" | quote }}
  noProxy: {{ .Values.proxyValues.noProxy | default "" | quote }}